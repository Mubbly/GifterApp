<template>
    <h1>My campaigns</h1>

    <p if.bind="_errorMessage" class="errormessage">${_errorMessage}</p>
    <section if.bind="_isCampaignManager">
        <p class="successmessage">âœ“ Campaign manager</p>
        <p>
            <a route-href="route: campaignsCreate; params.bind: {}" class="button">Create new</a>
        </p>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        Name
                    </th>
                    <th>
                        Description
                    </th>
                    <th>
                        AdImage
                    </th>
                    <th>
                        Institution
                    </th>
                    <th>
                        From
                    </th>
                    <th>
                        To
                    </th>
                    <th>
                        Donatees
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr repeat.for="campaign of _campaigns">
                    <td>
                        ${campaign.name}
                    </td>
                    <td>
                        ${campaign.description}
                    </td>
                    <td>
                        ${campaign.adImage}
                    </td>
                    <td>
                        ${campaign.institution}
                    </td>
                    <td>
                        ${campaign.activeFromDate}
                    </td>
                    <td>
                        ${campaign.activeToDate}
                    </td>
                    <td>
                        <a route-href="route: donateesIndex; params.bind: { campaignId: campaign.id }">${campaign.campaignDonateesCount}</a>
                    </td>
                    <td class="flex">
                        <a route-href="route: donateesCreate; params.bind: { campaignId: campaign.id }" class="button">Add donatees</a>
                        <a route-href="route: campaignsEdit; params.bind: { id: campaign.id }" class="button">Edit</a>
                        <a route-href="route: campaignsDetails; params.bind: { id: campaign.id }" class="button">Details</a>
                        <a route-href="route: campaignsDelete; params.bind: { id: campaign.id }" class="button">Delete</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </section>

    <a route-href="route: campaignsIndex; params.bind: {}">Back to all campaigns</a>
</template>